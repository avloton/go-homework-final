# Пекарня "Ароматная булочная"

Веб-приложение для управления заказами и отзывами пекарни, разработанное на Go.

## Описание

Веб-приложение для пекарни "Ароматная булочная" позволяет клиентам просматривать меню, оформлять заказы и оставлять отзывы. 
Администраторы могут управлять заказами и просматривать сообщения от клиентов.

## Основные возможности

- **Главная страница** - отображение популярных товаров
- **Меню** - полный каталог продукции
- **Оформление заказов** - форма для создания заказа с доставкой
- **Отзывы и сообщения** - форма обратной связи
- **О нас** - информация о пекарне и команде
- **Контакты** - контактная информация и форма связи
- **Административная панель**:
  - Просмотр всех заказов
  - Управление статусами заказов (новый/обработан)
  - Просмотр и удаление отзывов

## Технологии

- **Go** - основной язык программирования
- **SQLite** - база данных (modernc.org/sqlite)
- **HTML/CSS** - веб-интерфейс
- **Docker** - контейнеризация приложения

## Структура проекта

```
go-homework-final/
├── cmd/
│   └── main.go              # Точка входа приложения
├── internal/
│   ├── db/
│   │   ├── dbConnection.go  # Подключение к БД
│   │   └── service.go       # Работа с БД (CRUD операции)
│   ├── handlers/
│   │   └── handlers.go      # HTTP обработчики
│   └── models/
│       └── models.go        # Модели данных
├── web/
│   ├── img/                 # Изображения
│   └── templates/           # HTML шаблоны
├── docker-compose.yml       # Docker Compose конфигурация
├── Dockerfile               # Docker образ
├── Makefile                 # Команды для сборки и запуска
└── go.mod                   # Зависимости проекта
```

## Быстрый старт

### Требования

- Go 1.20 или выше
- Docker и Docker Compose (опционально)
- Make (опционально, для использования Makefile)

### Установка и запуск

#### Вариант 1: Использование Makefile (рекомендуется)

```bash
# Инициализировать базу данных и запустить приложение
make dev
```

#### Вариант 2: Ручной запуск

```bash
# Инициализировать базу данных
go run cmd/main.go populate

# Запустить сервер
go run cmd/main.go
```

#### Вариант 3: Использование Docker

```bash
# Собрать образ
make docker-build

# Запустить контейнеры
make docker-up
```

После запуска приложение будет доступно по адресу: **http://localhost:8080**

## Доступные команды Makefile

```bash
make help              # Показать справку по всем командам
make build             # Скомпилировать приложение
make run               # Запустить приложение
make populate          # Инициализировать базу данных
make dev               # Запуск в режиме разработки (с populate)
make clean             # Очистить скомпилированные файлы
make docker-build      # Собрать Docker образ
make docker-up         # Запустить через Docker Compose
make docker-down       # Остановить Docker Compose
make docker-logs       # Показать логи контейнеров
make docker-restart    # Перезапустить контейнеры
```

## База данных

Приложение использует SQLite базу данных. При первом запуске необходимо инициализировать БД командой `populate`, которая создаст:

- Таблицу `popular_products` - популярные товары
- Таблицу `orders` - заказы клиентов
- Таблицу `feedbacks` - отзывы и сообщения

База данных сохраняется в файле `bakery.db` в директории `db`.


## Docker

### Сборка образа

```bash
make docker-build
# или
docker build -t mybakery:latest .
```

### Запуск с Docker Compose

Docker Compose автоматически:
1. Инициализирует базу данных (сервис `init-db`)
2. Запускает веб-сервер (сервис `server`)

```bash
make docker-up
# или
docker compose up -d
```

### Просмотр логов

```bash
make docker-logs
# или
docker compose logs -f
```

### Остановка

```bash
make docker-down
# или
docker compose down
```